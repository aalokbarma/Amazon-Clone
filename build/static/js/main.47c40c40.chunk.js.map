{"version":3,"sources":["StateProvider.js","firebase.js","Header.js","Product.js","Home.js","CheckoutProduct.js","reducer.js","Subtotal.js","Checkout.js","Login.js","axios.js","Payment.js","Orders.js","App.js","index.js"],"names":["StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","firestore","auth","Header","basket","user","className","to","src","alt","type","onClick","signOut","email","length","Product","id","title","image","price","rating","dispatch","console","log","Array","fill","map","_","i","item","Home","CheckoutProduct","hideButton","getBasketTotal","reduce","amount","state","action","index","findIndex","basketItem","newBasket","splice","warn","Subtotal","history","useHistory","renderText","decimalScale","displayType","thousandSeparator","prefix","e","push","style","height","Checkout","Login","useState","setEmail","password","setPassword","onChange","target","preventDefault","signInWithEmailAndPassword","then","catch","error","alert","message","createUserWithEmailAndPassword","instance","axios","create","baseURL","Payment","stripe","useStripe","elements","useElements","setError","disabled","setDisabled","succeeded","setSucceeded","processing","setProcessing","clientSecret","setClientSecret","useEffect","a","method","url","response","data","getClientSecret","handleSubmit","event","replace","confirmCardPayment","payment_method","card","getElement","CardElement","paymentIntent","collection","doc","uid","set","created","onSubmit","empty","Orders","orders","setOrders","orderBy","onSnapshot","snapshot","docs","order","promise","loadStripe","App","onAuthStateChanged","authUser","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.47c40c40.chunk.js","sourcesContent":["import React, { createContext, useContext, useReducer } from 'react';\r\n\r\n// Prepares the dataLayout\r\nexport const StateContext = createContext();\r\n\r\n// Wrap our app and provide the Data layer\r\nexport const StateProvider = ({reducer, initialState, children}) => (\r\n    <StateContext.Provider value = {useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\n// Pull informations from data Layer;\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import firebase from 'firebase';\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDA_s2Vq5pVOgMz20wd0jUVV4zxuPDteQc\",\r\n  authDomain: \"clo-d9af9.firebaseapp.com\",\r\n  projectId: \"clo-d9af9\",\r\n  storageBucket: \"clo-d9af9.appspot.com\",\r\n  messagingSenderId: \"179504849154\",\r\n  appId: \"1:179504849154:web:5b7e2f44e7e617d21aa21b\",\r\n  measurementId: \"G-JLHFGME1H2\"\r\n};\r\n\r\n//App ID : 1:179504849154:web:5b7e2f44e7e617d21aa21b\r\n\r\n\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n  // firebase.analytics();\r\n\r\n  const db = firebase.firestore();\r\n  const auth = firebase.auth();\r\n\r\n  export {db, auth};","import React from 'react';\r\nimport \"./Header.css\";\r\n\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport ShoppingCartOutlinedIcon from '@material-ui/icons/ShoppingCartOutlined';\r\nimport { Link } from 'react-router-dom';\r\nimport { useStateValue } from './StateProvider';\r\nimport { auth } from './firebase';\r\n// import Link from 'react-router-dom';\r\n\r\nfunction Header() {\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n\r\n    const handleAuthentication = () => {\r\n        if (user) {\r\n            auth.signOut();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className = \"header\">\r\n        \r\n            <Link to = \"/\">\r\n                <img \r\n                    className = \"header__logo\" \r\n                    src = \"http://pngimg.com/uploads/amazon/amazon_PNG25.png\" \r\n                    alt = \"Amazon Logo\"\r\n                />\r\n\r\n            </Link>\r\n\r\n            <div className = \"header__search\">\r\n                <input className = \"header__searchInput\" type = \"text\" />\r\n                <SearchIcon className = \"header__searchIcon\" />\r\n            </div>\r\n            <div className = \"header__nav\">\r\n                <Link className = \"link\"  to = {!user && \"/login\"}>\r\n                    <div onClick = {handleAuthentication} className = \"header__option\">\r\n                        <span className = \"header__optionLineOne\">Hello {!user ? 'Guest' : user.email},</span>\r\n                        <span className = \"header__optionLineTwo\">{user ? 'Sign out' : 'Sign In'}</span>\r\n                \r\n                    </div>\r\n                </Link>\r\n\r\n                <Link className = \"link\" to = \"/orders\">\r\n                    <div className = \"header__option\">\r\n                        <span className = \"header__optionLineOne\">Returns</span>\r\n                        <span className = \"header__optionLineTwo\">& Order</span>\r\n                    </div>\r\n                </Link>\r\n\r\n                <div className = \"header__option\">\r\n                    <span className = \"header__optionLineOne\">Try</span>\r\n                    <span className = \"header__optionLineTwo\">Prime</span>\r\n                </div>\r\n                <Link to = \"/checkout\" className = \"cart__link\">\r\n                    <div className = \"header__optionBasket\">\r\n                        <ShoppingCartOutlinedIcon className = \"basket\" />\r\n                        <span className = \"header__optionLineTwo header__basketCount\">{basket?.length}</span>\r\n                        <span className = \"header__optionLineTwo cart\">Cart</span>\r\n                    </div>\r\n\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport './Product.css';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Product({id, title, image, price, rating}) {\r\n\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    console.log(\"this is the basket\" , basket)\r\n\r\n    const addToBasket = () => (\r\n        dispatch({\r\n            type: 'ADD_TO_CART',\r\n            item: {\r\n                id: id,\r\n                title: title,\r\n                image: image,\r\n                price: price,\r\n                rating: rating,\r\n            }\r\n\r\n        })\r\n    )\r\n\r\n    return (\r\n        <div className = \"product\">\r\n            <div className= \"product__info\">\r\n                <p>{title}</p>\r\n                <p className=\"product__price\">\r\n                    <span>$</span>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className = \"product__rating\">\r\n                    {Array(rating).fill().map((_, i) => (\r\n                        <span>⭐</span>\r\n                    ))}\r\n                    {/* <p>⭐</p> */}\r\n                </div>\r\n                \r\n            </div>\r\n            \r\n            <img src={image} alt= \"Product\" />\r\n\r\n            <button onClick = {addToBasket} className = \"product__button\">Add to Cart</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport './Home.css';\r\nimport Product from './Product';\r\n\r\nfunction Home() {\r\n    return (\r\n        <div className = \"home\">\r\n            <div className = \"home__container\">\r\n                <img className = \"home__image\" \r\n                    src= \"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg\"\r\n                    alt = \"Banner Image\"\r\n                />\r\n            </div>\r\n            <div className = \"home__row\">\r\n                <Product \r\n                    id=\"564646694\"\r\n                    title= \"The Lean Startup: How Constant Innovation Creates Radically Successful Businesses \" \r\n                    price = {29.99}\r\n                    image = \"https://coolerinsights.com/wp-content/uploads/2013/04/The-Lean-Startup.jpeg\"\r\n                    rating = {5}\r\n                />\r\n                <Product \r\n                    id = \"1563179518\"\r\n                    title= \"New Apple iPhone 12 Pro Max (256GB) - Graphite\" \r\n                    price = {1882.199}\r\n                    image = \"https://images-na.ssl-images-amazon.com/images/I/71XXJC7V8tL._SL1500_.jpg\"\r\n                    rating = {5}\r\n                />\r\n                \r\n            </div>\r\n            <div className = \"home__row\">\r\n            <Product \r\n                id = \"2681215315\"\r\n                title= \"ASGARD Day & Date Feature Watch for Men, Boys-158-DD1\" \r\n                price = {5.49}\r\n                image = \"https://images-na.ssl-images-amazon.com/images/I/41XdRy2BxfL._UY445_.jpg\"\r\n                rating = {3}\r\n            />\r\n            <Product \r\n                id = \"5215215516\"\r\n                title= \"Alan Jones Clothing Women's Cotton Hooded Sweatshirt\" \r\n                price = {6.99}\r\n                image = \"https://images-na.ssl-images-amazon.com/images/I/51tRpGfso3L._UL1440_.jpg\"\r\n                rating = {4}\r\n            />\r\n            <Product \r\n                id = \"8951861561\"\r\n                title= \"Bon Organik Mighty Avengers Printed Face Mask Bundle For Kids (Set Of 3) (4-8Y)\" \r\n                price = {3.99}\r\n                image = \"https://images-na.ssl-images-amazon.com/images/I/71aop0dmDnL._SL1500_.jpg\"\r\n                rating = {4}\r\n            />\r\n            </div>\r\n            <div className = \"home__row\">\r\n            <Product \r\n                id = \"8618613126\"\r\n                title= \"Samsung LC49HG90DMUXEN 48.9-inch Ultra Wide Curved Monitor (Black)\" \r\n                price = {1094.98}\r\n                image = \"https://images-na.ssl-images-amazon.com/images/I/81vlA84pg6L._SL1500_.jpg\"\r\n                rating = {5}\r\n            />\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Home;\r\n","import React from 'react';\r\nimport './CheckoutProduct.css'\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction CheckoutProduct({id, image, title, price, rating, hideButton}) {\r\n    const [{basket}, dispatch] = useStateValue();\r\n\r\n    const removeFromCart = () => {\r\n        dispatch({\r\n            type: 'REMOVE_FROM_CART',\r\n            id: id,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className = \"checkoutProduct\">\r\n            <img className = \"checkoutProduct__image\" src = {image} />\r\n            <div className = \"checkourtProduct__info\">\r\n                <p className = \"checkoutProduct__title\">{title}</p>\r\n                <p className = \"checkoutProduct__price\">\r\n                    <small>$</small>\r\n                    <strong>{price}</strong>\r\n                </p>\r\n                <div className = \"checkoutProduct__rating\">\r\n                    {Array(rating)\r\n                    .fill()\r\n                    .map((_, i) => (\r\n                        <span>⭐</span>\r\n                    ))\r\n                    }\r\n                </div>\r\n                {!hideButton &&(\r\n                <button onClick = {removeFromCart} className = \"checkoutProduct__button\"><p className = \"button__para\">Remove from Cart</p></button>\r\n\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CheckoutProduct;\r\n","export const initialState = {\r\n    basket: [],\r\n    user: null,\r\n};\r\n\r\n// selector\r\nexport const getBasketTotal = (basket) => basket?.reduce((amount, item) => item.price + amount , 0\r\n)\r\n\r\nconst reducer = (state, action) => {\r\n    switch(action.type) {\r\n        case 'ADD_TO_CART':\r\n            return{\r\n                ...state,\r\n                basket: [...state.basket, action.item],\r\n            }\r\n        case \"REMOVE_FROM_CART\":\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n            let newBasket = [...state.basket];\r\n\r\n            if (index >= 0) {\r\n                newBasket.splice(index, 1);\r\n            }\r\n            else {\r\n                console.warn(\r\n                    `Can't remove product (id: ${action.id}) as it is not in the Cart`\r\n                )\r\n            }\r\n            return {...state, basket: newBasket}\r\n\r\n        case \"SET_USER\":\r\n            return {\r\n                ...state,\r\n                user: action.user\r\n            }\r\n\r\n        case \"EMPTY_BASKET\":\r\n            return{\r\n                ...state,\r\n                basket: []\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React from 'react';\r\nimport './Subtotal.css';\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { useStateValue } from './StateProvider';\r\nimport { getBasketTotal } from './reducer';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Subtotal() {\r\n    const history = useHistory();\r\n    const [{basket}, dispatch] = useStateValue();\r\n    return (\r\n        <div className = \"subtotal\">\r\n            <CurrencyFormat \r\n                renderText = {(value) =>(\r\n                    \r\n                    <>\r\n                        <p>\r\n                            Subtotal ({basket?.length} items): <strong>{value}</strong>\r\n                        </p>\r\n                        \r\n                        <small className = \"subtotal__gift\">\r\n                            <input type = \"checkbox\" /> This order contains a gift\r\n                        </small>\r\n                    </>\r\n                )}\r\n                decimalScale = {2}\r\n                value = {getBasketTotal(basket)}\r\n                displayType= {\"text\"}\r\n                thousandSeparator = {true}\r\n                prefix= {\"$\"}\r\n                \r\n\r\n            />\r\n            \r\n            <button onClick = {e => history.push('/payment')} className = \"proceedButton\" style = {{height: \"50px\"}}>Proceed to checkout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Subtotal;\r\n","import React from 'react';\r\nimport \"./Checkout.css\";\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport { useStateValue } from './StateProvider';\r\nimport Subtotal from './Subtotal';\r\n\r\nfunction Checkout() {\r\n\r\n    const [{basket , user}, dispatch] = useStateValue();\r\n\r\n    return (\r\n        <div className = \"checkout\">\r\n            <div className = \"checkout__left\">\r\n                <img \r\n                    className = \"checkout__ad\"\r\n                    src= \"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\r\n                    alt = \"Checkout Ad\"\r\n                />\r\n                <div>\r\n                    <h5>Hello! {user?.email}</h5>\r\n                    <h2 className = \"checkout__title\">\r\n                        Your Shopping Cart\r\n                    </h2>\r\n\r\n                    {basket.map(item => (\r\n                        <CheckoutProduct \r\n                            id = {item.id}\r\n                            title = {item.title}\r\n                            image = {item.image}\r\n                            rating = {item.rating}\r\n                            price = {item.price}\r\n                        />\r\n                    ))}\r\n\r\n                    {/* <span className = \"heading__para\">Oops! There's nothing in your cart.</span> */}\r\n\r\n                    {/* CheckoutProduct */}\r\n                    {/* CheckoutProduct */}\r\n                    {/* CheckoutProduct */}\r\n                    {/* CheckoutProduct */}\r\n                    {/* CheckoutProduct */}\r\n                    {/* CheckoutProduct */}\r\n                </div>\r\n            </div>\r\n            <div className = \"checkout__right\">\r\n                <Subtotal />\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Checkout;\r\n","import { Link, useHistory } from 'react-router-dom';\r\nimport React, { useState } from 'react';\r\nimport './Login.css';\r\nimport { auth } from './firebase';\r\n\r\nfunction Login() {\r\n    const history = useHistory();\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n\r\n    const signin = e => {\r\n        e.preventDefault()\r\n        auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                history.push('/')\r\n            })\r\n            .catch(error => alert(error.message))\r\n\r\n            setEmail('')\r\n            setPassword('')\r\n        \r\n    }\r\n\r\n    const register = e => {\r\n        e.preventDefault()\r\n\r\n        auth\r\n            .createUserWithEmailAndPassword(email, password)\r\n            .then((auth) => {\r\n                console.log(auth);\r\n                if (auth) {\r\n                    history.push('/')\r\n                }\r\n            })\r\n            .catch(error => alert(error.message))\r\n            setPassword('');\r\n            setEmail('')\r\n\r\n}\r\n\r\n    return (\r\n        <div className = 'login'>\r\n            <Link to  = '/' >\r\n                <img \r\n                className = \"login__logo\" \r\n                src = \"http://www.clickbank.com/wp-content/uploads/2016/05/amazon_logo.png\" \r\n                alt = \"Login logo\" />\r\n            </Link>\r\n\r\n            <div className = 'login__container'>\r\n                <h1>Sig-In</h1>\r\n\r\n                <form>\r\n                    <h5>E-mail</h5>\r\n                    <input type = \"text\" value = {email} onChange = {e => setEmail(e.target.value)}/>\r\n\r\n                    <h5>Password</h5>\r\n                    <input type = \"password\" value = {password} onChange = {e => setPassword(e.target.value)}/>\r\n\r\n                    <button type = 'submit' onClick = {signin} className = \"login__signInButton\">Sign-In</button>\r\n                </form>\r\n                <p>By signing in you agree to the AMAZON CLONE Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest base Notice\r\n                .</p>\r\n                <button onClick = {register} className = \"login__registerButton\">Create your Amazon account</button>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"http://localhost:5001/clo-d9af9/us-central1/api\" //The API (cloud function) URL\r\n});\r\n\r\nexport default instance;","import React, { useEffect, useState } from 'react';\r\nimport './Payment.css';\r\nimport { useStateValue } from './StateProvider';\r\nimport CheckoutProduct from './CheckoutProduct';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { CardElement, useElements, useStripe } from '@stripe/react-stripe-js';\r\nimport CurrencyFormat from 'react-currency-format';\r\nimport { getBasketTotal } from './reducer';\r\nimport axios from './axios';\r\nimport {db} from './firebase';\r\n\r\nfunction Payment() {\r\n\r\n    const history = useHistory();\r\n    \r\n    const [{basket, user}, dispatch] = useStateValue();\r\n    \r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n\r\n    const [error, setError] = useState(null);\r\n    const [disabled, setDisabled] = useState(true);\r\n    const [succeeded, setSucceeded] = useState(false);\r\n    const [processing, setProcessing] = useState(\"\");\r\n    const [clientSecret, setClientSecret] = useState(true);\r\n\r\n    useEffect(() => {\r\n        const getClientSecret = async () => {\r\n            const response = await axios({\r\n                method : 'post',\r\n                url : `/payments/create?total=${getBasketTotal(basket) * 100 }`\r\n            })\r\n            setClientSecret(response.data.clientSecret)\r\n        }\r\n        getClientSecret();\r\n    }, [basket])\r\n\r\n    console.log('THE SECRET IS >>>', clientSecret)\r\n\r\n    const handleSubmit = async (event) => {\r\n        // Do all the fancy styles...\r\n        event.preventDefault();\r\n        setProcessing(true);\r\n\r\n        // This should not gonna be here Start\r\n\r\n        // db\r\n        //         .collection('users')\r\n        //         .doc(user?.uid)\r\n        //         .collection('orders')\r\n        //         .doc(paymentIntent.id)\r\n        //         .set({\r\n        //             basket: basket,\r\n        //             amount: paymentIntent.amount,\r\n        //             created: paymentIntent.created,\r\n        //         })\r\n\r\n\r\n        dispatch({\r\n            type: 'EMPTY_BASKET'\r\n        })\r\n\r\n        history.replace('/orders')\r\n\r\n        // This should not gonna be here End\r\n\r\n        const payload = await stripe.confirmCardPayment(clientSecret, {\r\n            payment_method:{\r\n                card: elements.getElement(CardElement)\r\n            }\r\n            \r\n        })\r\n        .then(({ paymentIntent }) => {\r\n            // PaymentIntent = payment confirmation\r\n\r\n            db\r\n                .collection('users')\r\n                .doc(user?.uid)\r\n                .collection('orders')\r\n                .doc(paymentIntent.id)\r\n                .set({\r\n                    basket: basket,\r\n                    amount: paymentIntent.amount,\r\n                    created: paymentIntent.created,\r\n                })\r\n\r\n\r\n            setSucceeded(true);\r\n            setError(null)\r\n            setProcessing(false);\r\n\r\n            // This should gonna be here Start\r\n    \r\n            dispatch({\r\n                type: 'EMPTY_BASKET'\r\n            })\r\n    \r\n            history.replace('/orders')\r\n            \r\n        })\r\n\r\n        // This should gonna be here End\r\n    }\r\n\r\n    const handleChange = event => {\r\n        // Listen for changes in the card elements\r\n        // And display any errors as the customer typed their card details\r\n        setDisabled(event.empty);\r\n        setError(event.error ? event.error.message : \"\")\r\n    }\r\n\r\n    return (\r\n        <div className = \"payment\">\r\n            <div className = \"payment__container\">\r\n                <h1>\r\n                    Checkout {<Link className=\"checkout__link\" to = \"/checkout\">( {basket?.length} items )</Link>}\r\n                </h1>\r\n                {/* Payment sesction - delivery address */}\r\n                <div className = \"payment__section\">\r\n                    <div className = \"payment__title\">\r\n                        <h3>Delivery Addresss</h3>\r\n\r\n                    </div>\r\n                    <div className = \"payment__address\">\r\n                        <p> {user?.email} </p>\r\n                        <p>123 React Lane</p>\r\n                        <p>Los Angeles, CA</p>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Payment sesction - Review Items */}\r\n                <div className = \"payment__section\">\r\n                    <div className = \"payment__title\">\r\n                        <h3>Review items and delivery</h3>\r\n                    </div>\r\n                    <div className = \"payment__items\">\r\n                        {basket.map(item => (\r\n                            <CheckoutProduct \r\n                                id= {item.id}\r\n                                title = {item.title}\r\n                                image = {item.image}\r\n                                price= {item.price}\r\n                                rating = {item.rating}\r\n                             />\r\n                        ))}\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                {/* Payment sesction - Payment method */}\r\n                <div className = \"payment__section\">\r\n                        <div className = \"payment__title\">\r\n                            <h3>Payment Method</h3>\r\n                        </div>\r\n                        <div className = \"payment__details\">\r\n                            {/* Stripe magic will Go */}\r\n                            <form onSubmit = {handleSubmit}>\r\n                                <CardElement onChange = {handleChange}/>\r\n\r\n                                <div className = \"payment__priceContainer\">\r\n                                    <CurrencyFormat\r\n                                        renderText = {(value) => (\r\n                                            <>\r\n                                                <h3>Order Total: {value}</h3>\r\n                                            </>\r\n                                        )}\r\n                                        decimalScale = {2}\r\n                                        value= {getBasketTotal(basket)}\r\n                                        displayType = {\"text\"}\r\n                                        thousandSeparator = {true}\r\n                                        prefix = {\"$\"}\r\n                                    />\r\n                                    <button disabled = {processing || disabled || succeeded }>\r\n                                        <span>{processing ? <p>Processing</p> : \"Buy Now\" } </span>\r\n                                    </button>\r\n                                </div>\r\n                                {error && <div>{error}</div>}\r\n                            </form>\r\n                            \r\n                        </div>\r\n\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { db } from './firebase';\r\nimport \"./Orders.css\";\r\nimport { useStateValue } from './StateProvider';\r\nimport Order from \"./Order\";\r\n\r\nfunction Orders() {\r\n\r\n    const [{basket, user}, dispatch] = useStateValue();\r\n\r\n    const [orders, setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if(user){\r\n            db\r\n            .collection('users')\r\n            .doc(user?.uid)\r\n            .collection('orders')\r\n            .orderBy('created', 'desc')\r\n            .onSnapshot(snapshot => (\r\n                setOrders(snapshot.docs.map(doc => ({\r\n                    id: doc.id,\r\n                    data: doc.data()\r\n                })))\r\n            ))\r\n            \r\n        } else {\r\n            setOrders([]);\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div className= \"orders\">\r\n            <h1>Your Orders</h1>\r\n\r\n            <div className = \"orders__order\">\r\n                {orders?.map(order => (\r\n                    <Orders order = {order} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders;\r\n","import React, { useEffect } from 'react';\nimport './App.css';\nimport Header from './Header';\nimport Home from './Home';\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\nimport Checkout from './Checkout';\nimport Login from './Login';\nimport { auth } from './firebase';\nimport { useStateValue } from './StateProvider';\nimport Payment from  './Payment';\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport Orders from './Orders';\n\nconst promise= loadStripe('pk_test_51HxGGQBg5iVCMeNsNsMU1qnJrX5lHasYy1q3tJHXrwd25mtDBdkP88D2RApoQ3AlAks399lyQs27nl7v5bHU8OUu00x4hy4OFm');\n\n\nfunction App() {\n  const [{}, dispatch] = useStateValue();\n\n  useEffect(() => {\n    auth.onAuthStateChanged(authUser => {\n      console.log('THE USER IS >>> ', authUser);\n\n      if (authUser) {\n        dispatch({\n          type: 'SET_USER',\n          user: authUser\n        })\n      } else {\n        dispatch({\n          type: 'SET_USER',\n          user: null\n        })\n      }\n    })\n  }, [])\n\n  return (\n    <Router>\n      <div className=\"app\">\n      \n        <Switch>\n          <Route exact path = \"/orders\">\n            <Header />\n            <Orders />\n          </Route>\n          <Route exact path = \"/login\">\n            <Login />\n          </Route>\n          <Route exact path = \"/checkout\">\n            <Header />\n            <Checkout />\n          </Route>\n          <Route exact path = \"/payment\">\n            <Header />\n            <Elements stripe = {promise}>\n              <Payment />\n\n            </Elements>\n          </Route>\n          <Route path = \"/\">\n            <Header />\n            <Home />\n          </Route>\n\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { StateProvider } from './StateProvider';\n// import * as serviceWorker from './serviceWorker';\nimport reducer, {initialState} from './reducer';\n\n\nReactDOM.render(\n    <React.StrictMode>\n        <StateProvider initialState = {initialState} reducer = {reducer}>\n            <App />\n        </StateProvider>\n    </React.StrictMode>\n    ,document.getElementById('root'));\n\n"],"sourceRoot":""}